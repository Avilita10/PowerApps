CarpetaSinConexionSintomatologia As screen:
    LoadingSpinnerColor: =RGBA(0, 120, 212, 1)
    OnVisible: =

    Container3_1 As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Fill: =RGBA(215, 223, 240, 1)
        Height: =1136
        LayoutDirection: =LayoutDirection.Vertical
        LayoutMode: =LayoutMode.Auto
        LayoutOverflowX: =LayoutOverflow.Scroll
        LayoutOverflowY: =LayoutOverflow.Scroll
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Width: =640
        ZIndex: =1

        Container6_1 As groupContainer.horizontalAutoLayoutContainer:
            DropShadow: =DropShadow.Light
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: =280
            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
            LayoutMinHeight: =112
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            LayoutWrap: =true
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            ZIndex: =1

            Image3 As image:
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderStyle: =BorderStyle.None
                BorderThickness: =2
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledFill: =RGBA(0, 0, 0, 0)
                FocusedBorderThickness: =4
                Height: =150
                HoverBorderColor: =RGBA(0, 0, 0, 0)
                HoverFill: =RGBA(0, 0, 0, 0)
                Image: ='Logo_2 horizontal 2021'
                LayoutMinHeight: =320
                LayoutMinWidth: =320
                PressedBorderColor: =RGBA(0, 0, 0, 0)
                PressedFill: =RGBA(0, 0, 0, 0)
                Width: =600
                ZIndex: =1

            Label3 As label:
                Align: =Align.Center
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderStyle: =BorderStyle.None
                BorderThickness: =2
                Color: =RGBA(50, 49, 48, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(161, 159, 157, 1)
                FillPortions: =1
                FocusedBorderThickness: =4
                Font: =Font.'Patrick Hand'
                FontWeight: =FontWeight.Semibold
                Height: =135
                LayoutMinHeight: =70
                LayoutMinWidth: =560
                PaddingBottom: =30
                Size: =40
                Text: |-
                    ="Carpeta sin conexion
                     Formulario Sintomatologia"
                Width: =560
                ZIndex: =2

        Container7_1 As groupContainer.verticalAutoLayoutContainer:
            DropShadow: =DropShadow.Light
            Height: =225
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =112
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            ZIndex: =2

            Container8_1 As groupContainer.horizontalAutoLayoutContainer:
                DropShadow: =DropShadow.Light
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =0
                Height: =70
                LayoutMinHeight: =112
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingTop: =
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                ZIndex: =1

                Label4_1 As label:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(50, 49, 48, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(161, 159, 157, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    Height: =70
                    LayoutMinHeight: =70
                    LayoutMinWidth: =560
                    Size: =21
                    Text: =If(Connection.Connected,"Conectado","Offline")
                    Width: =170
                    ZIndex: =1

                Icon7 As icon.DocumentwithContent:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    Color: =RGBA(72, 178, 194, 1)
                    DisabledBorderColor: =RGBA(245, 245, 245, 1)
                    DisabledColor: =RGBA(225, 223, 221, 1)
                    DisabledFill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =4
                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                    HoverColor: =RGBA(16, 110, 190, 1)
                    HoverFill: =RGBA(0, 0, 0, 0)
                    Icon: =Icon.DocumentWithContent
                    OnSelect: =Navigate(FormularioSinotomatologia)
                    PressedBorderColor: =RGBA(0, 0, 0, 0)
                    PressedColor: =RGBA(16, 110, 190, 1)
                    PressedFill: =RGBA(0, 0, 0, 0)
                    ZIndex: =2

            Container9_1 As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.Light
                Height: =225
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =112
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                ZIndex: =2

                "Gallery1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    '#CopilotOverlayLabel': ="Filtrada"
                    BorderColor: =RGBA(245, 245, 245, 1)
                    DelayItemLoading: =true
                    Fill: =RGBA(255, 255, 255, 1)
                    Items: =coleccionOffline
                    Layout: =Layout.Vertical
                    LayoutMinHeight: =287
                    LayoutMinWidth: =320
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =104
                    ZIndex: =1

                    Image1 As image:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =2
                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        DisplayMode: =DisplayMode.View
                        FocusedBorderThickness: =4
                        Height: =72
                        HoverBorderColor: =RGBA(0, 0, 0, 0)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        Image: ='logo consusalud 2021'
                        OnSelect: =Select(Parent)
                        PressedBorderColor: =RGBA(0, 0, 0, 0)
                        PressedFill: =RGBA(0, 0, 0, 0)
                        RadiusBottomLeft: =8
                        RadiusBottomRight: =8
                        RadiusTopLeft: =8
                        RadiusTopRight: =8
                        Width: =72
                        X: =16
                        Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                        ZIndex: =1

                    Title1 As label:
                        Color: =RGBA(50, 49, 48, 1)
                        DisabledColor: =RGBA(161, 159, 157, 1)
                        Font: =Font.'Segoe UI'
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =Self.Size * 1.8
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =12
                        PaddingRight: =0
                        PaddingTop: =0
                        Text: =ThisItem.Identificacion
                        VerticalAlign: =VerticalAlign.Top
                        Width: =Parent.TemplateWidth - 173
                        X: =103
                        Y: =(Parent.TemplateHeight - (Self.Size * 1.8 + Subtitle1.Size * 1.8)) / 2
                        ZIndex: =2

                    Subtitle1 As label:
                        Color: =RGBA(96, 94, 92, 1)
                        DisabledColor: =RGBA(161, 159, 157, 1)
                        Font: =Font.'Segoe UI'
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =Self.Size * 1.8
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =12
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =12
                        Text: =ThisItem.NombreTrabajador
                        VerticalAlign: =VerticalAlign.Top
                        Width: =Title1.Width
                        X: =Title1.X
                        Y: =Title1.Y + Title1.Height
                        ZIndex: =3

                    NextArrow1 As icon.ChevronRight:
                        AccessibleLabel: =Self.Tooltip
                        BorderColor: =RGBA(0, 0, 0, 0)
                        DisabledBorderColor: =RGBA(245, 245, 245, 1)
                        DisabledColor: =RGBA(225, 223, 221, 1)
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        FocusedBorderThickness: =4
                        Height: =50
                        HoverBorderColor: =RGBA(0, 0, 0, 0)
                        HoverColor: =RGBA(16, 110, 190, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        Icon: =Icon.ChevronRight
                        OnSelect: |+
                            =// En el botón de enviar
                            If(
                                Connection.Connected,
                                ForAll(
                                    coleccionOffline,
                                    Patch(
                                        'Base de datos formulario prueba', // Tu fuente de datos
                                        Defaults('Base de datos formulario prueba'), // Crear un nuevo registro
                                        {
                                            FECHA: DataCardValue1.SelectedDate,  // Campo 1
                                            CIUDAD: DataCardValue2.Text,
                                            ÁREA: DataCardValue3.Text,
                                            'CARGO O PUESTO DE TRABAJO': DataCardValue4.Text,
                                            IDENTIFICACIÓN: DataCardValue5.Text,
                                            GÉNERO: DataCardValue7.Selected.Value,
                                            EDAD: edadDigito.Value,
                                            EMPRESA:DataCardValue44,
                                            SEDE:DataCardKey104.Text,
                                            TURNO: DataCardValue9.Selected.Value,
                                            'ANTIGUEDAD EN LA EMPRESA MESES':Slider1.Value,
                                            'ANTIGÜEDAD EN LA EMPRESA':DataCardValue10.Value,
                                            'ANTIGUEDAD DEL CARGO MESES':Slider2.Value,
                                            'ANTIGÜEDAD EN EL CARGO':DataCardValue11.Value,
                                            'TIPO DE CARGO':DataCardValue12.Selected.Value,
                                            'PREDOMINANCIA MANUAL':DataCardValue13.Selected.Value,
                                            'ESTATURA (cm)': DataCardValue14.Text,
                                            'PESO (kg)': DataCardValue15.Text,
                                            '¿LA PERSONA FUMA?': DataCardValue17.Selected.Value,
                                            '¿CUANTOS CIGARRILLOS AL DIA?': DataCardValue18.Text,
                                            '¿HACE CUANTO FUMA? (meses)':DataCardValue19.Text,
                                            '¿REALIZA ACTIVIDAD FISICA?':DataCardValue20.Selected.Value,
                                            '¿CUAL ACTIVIDAD FISICA REALIZA?': DataCardValue21.Text,
                                            '¿CON QUE FRECUENCIA REALIZA ACTIVIDAD FISICA? (días x semana)': DataCardValue22.Text,
                                            '¿PRESENTA DOLOR O MOLESTIA A NIVEL OSTEOMUSCULAR?':DataCardValue26.Selected.Value,
                                            '¿PRESENTA ALGUNA ENFERMEDAD OSTEOMUSCULAR ACTUALMENTE?':DataCardValue27.Selected.Value,
                                            'NOMBRE DE LA ENFERMEDAD OSTEOMUSCULAR':DataCardValue28.Text,
                                            'Ojos F':DataCardValue29.Value,
                                            'Ojos S':DataCardValue30.Value,
                                            
                                            'Cuello F':DataCardValue33.Value,
                                            'Cuello S':DataCardValue34.Value,
                                            
                                            'Hombro izquierdo F':DataCardValue35.Value,
                                            'Hombro izquierdo S':DataCardValue36.Value,
                                            
                                            'Hombro derecho F':DataCardValue38.Value,
                                            'Hombro derecho A':DataCardValue39.Value,
                                            
                                            'Brazo derecho F':DataCardValue41.Value,
                                            'Brazo derecho S':DataCardValue42.Value,
                                            
                                            'Brazo izquierdo S':Dropdown12.Value,
                                            'Brazo izquierdo F':DataCardValue45.Value,
                                            
                                            'Antebrazo derecho F':DataCardValue47.Value,
                                            'Antebrazo derecho S':DataCardValue48.Value,
                                        
                                            'Antebrazo izquierdo F':DataCardValue50.Value,
                                            'Antebrazo izquierdo S':DataCardValue51.Value,
                                        
                                            'Muñeca derecha F':DataCardValue53.Value,
                                            'Muñeca derecha S':DataCardValue54.Value,
                                            
                                            'Muñeca izquierda F':DataCardValue56.Value,
                                            'Muñeca izquierda S':DataCardValue57.Value,
                                        
                                            'Mano derecha F':DataCardValue59.Value,
                                            'Mano derecha S':DataCardValue60.Value,
                                            
                                            'Mano izquierda F':DataCardValue62.Value,
                                            'Mano izquierda S':DataCardValue63.Value,
                                            
                                            'Zona dorsal F':DataCardValue65.Value,
                                            'Zona dorsal S':DataCardValue66.Value,
                                            
                                            'Zona lumbar F':DataCardValue68.Value,
                                            'Zona lumbar S':DataCardValue69.Value,
                                            
                                            'Nalgas y/o caderas F':DataCardValue71.Value,
                                            'Nalgas y/o caderas S':DataCardValue72.Value,
                                            
                                            'Muslo derecho F':DataCardValue74.Value,
                                            'Muslo derecho S':DataCardValue75.Value,
                                            
                                            'Muslo izquierdo F':DataCardValue77.Value,
                                            'Muslo izquierdo S':DataCardValue78.Value,
                                            
                                            'Rodilla derecha F':DataCardValue80.Value,
                                            'Rodilla derecha S':DataCardValue81.Value,
                                            
                                            'Rodilla izquierda F':DataCardValue83.Value,
                                            'Rodilla izquierda S':DataCardValue84.Value,
                            
                                            'Pierna derecha F':DataCardValue86.Value,
                                            'Pierna derecha S':DataCardValue87.Value,
                            
                                            'Pierna izquierda F':DataCardValue89.Value,
                                            'Pierna izquierda S':DataCardValue90.Value,
                                        
                                            'Pie y/o tobillo derecho F':DataCardValue92.Value,
                                            'Pie y/o tobillo derecho S':DataCardValue93.Value,
                                        
                                            'Pie y/o tobillo izquierdo F':DataCardValue95.Value,
                                            'Pie y/o tobillo izquierdo S':DataCardValue96.Value,
                                            
                                            'Codo derecho F':DataCardValue24.Value,
                                            'Codo derecho S':DataCardValue98.Value,
                                            
                                            'Codo izquierdo F':DataCardValue100.Value,
                                            'Codo izquierdo S':DataCardValue101.Value
                                            
                                          
                                        }
                                    )
                                )
                            );
                            Clear(coleccionOffline); // Limpia la colección local
                                SaveData(coleccionOffline, "LocalData"); // Guarda la colección vacía
                                Notify("Datos enviados correctamente", NotificationType.Success)
                            
                        PaddingBottom: =16
                        PaddingLeft: =16
                        PaddingRight: =16
                        PaddingTop: =16
                        PressedBorderColor: =RGBA(0, 0, 0, 0)
                        PressedColor: =RGBA(16, 110, 190, 1)
                        PressedFill: =RGBA(0, 0, 0, 0)
                        Tooltip: ="Ver los detalles del elemento"
                        Width: =50
                        X: =Parent.TemplateWidth - Self.Width - 12
                        Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                        ZIndex: =4

                    Separator1 As rectangle:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        Fill: =RGBA(255, 255, 255, 1)
                        Height: =8
                        OnSelect: =Select(Parent)
                        Width: =Parent.TemplateWidth
                        Y: =Parent.TemplateHeight - Self.Height
                        ZIndex: =5

                    Rectangle1 As rectangle:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        Fill: =RGBA(0, 120, 212, 1)
                        Height: =Parent.TemplateHeight - Separator1.Height
                        OnSelect: =Select(Parent)
                        Visible: =ThisItem.IsSelected
                        Width: =4
                        ZIndex: =6

