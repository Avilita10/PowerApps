CarpetaSinConexionSintomatologia As screen:
    LoadingSpinnerColor: =RGBA(0, 120, 212, 1)
    OnVisible: =

    Container3_1 As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Fill: =RGBA(215, 223, 240, 1)
        Height: =1136
        LayoutDirection: =LayoutDirection.Vertical
        LayoutMode: =LayoutMode.Auto
        LayoutOverflowX: =LayoutOverflow.Scroll
        LayoutOverflowY: =LayoutOverflow.Scroll
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Width: =640
        ZIndex: =1

        Container6_1 As groupContainer.horizontalAutoLayoutContainer:
            DropShadow: =DropShadow.Light
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: =280
            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
            LayoutMinHeight: =112
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            LayoutWrap: =true
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            ZIndex: =1

            Image3 As image:
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderStyle: =BorderStyle.None
                BorderThickness: =2
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledFill: =RGBA(0, 0, 0, 0)
                FocusedBorderThickness: =4
                Height: =150
                HoverBorderColor: =RGBA(0, 0, 0, 0)
                HoverFill: =RGBA(0, 0, 0, 0)
                Image: ='Logo_2 horizontal 2021'
                LayoutMinHeight: =320
                LayoutMinWidth: =320
                PressedBorderColor: =RGBA(0, 0, 0, 0)
                PressedFill: =RGBA(0, 0, 0, 0)
                Width: =600
                ZIndex: =1

            Label3 As label:
                Align: =Align.Center
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderStyle: =BorderStyle.None
                BorderThickness: =2
                Color: =RGBA(50, 49, 48, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(161, 159, 157, 1)
                FillPortions: =1
                FocusedBorderThickness: =4
                Font: =Font.'Patrick Hand'
                FontWeight: =FontWeight.Semibold
                Height: =135
                LayoutMinHeight: =70
                LayoutMinWidth: =560
                PaddingBottom: =30
                Size: =40
                Text: |-
                    ="Carpeta sin conexion
                     Formulario Sintomatologia"
                Width: =560
                ZIndex: =2

        Container7_1 As groupContainer.verticalAutoLayoutContainer:
            DropShadow: =DropShadow.Light
            Height: =225
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =112
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            ZIndex: =2

            Container8_1 As groupContainer.horizontalAutoLayoutContainer:
                DropShadow: =DropShadow.Light
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =0
                Height: =70
                LayoutMinHeight: =112
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingTop: =
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                ZIndex: =1

                Label4_1 As label:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(50, 49, 48, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(161, 159, 157, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    Height: =70
                    LayoutMinHeight: =70
                    LayoutMinWidth: =560
                    Size: =21
                    Text: =If(Connection.Connected,"Conectado","Offline")
                    Width: =170
                    ZIndex: =1

                Icon7 As icon.DocumentwithContent:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    Color: =RGBA(72, 178, 194, 1)
                    DisabledBorderColor: =RGBA(245, 245, 245, 1)
                    DisabledColor: =RGBA(225, 223, 221, 1)
                    DisabledFill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =4
                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                    HoverColor: =RGBA(16, 110, 190, 1)
                    HoverFill: =RGBA(0, 0, 0, 0)
                    Icon: =Icon.DocumentWithContent
                    OnSelect: =Navigate(FormularioSinotomatologia)
                    PressedBorderColor: =RGBA(0, 0, 0, 0)
                    PressedColor: =RGBA(16, 110, 190, 1)
                    PressedFill: =RGBA(0, 0, 0, 0)
                    ZIndex: =2

            Container9_1 As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.Light
                Height: =225
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =112
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                ZIndex: =2

                "Gallery1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    '#CopilotOverlayLabel': ="Filtrada"
                    BorderColor: =RGBA(245, 245, 245, 1)
                    DelayItemLoading: =true
                    Fill: =RGBA(255, 255, 255, 1)
                    Items: =coleccionOffline
                    Layout: =Layout.Vertical
                    LayoutMinHeight: =287
                    LayoutMinWidth: =320
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =104
                    ZIndex: =1

                    Image1 As image:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =2
                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        DisplayMode: =DisplayMode.View
                        FocusedBorderThickness: =4
                        Height: =72
                        HoverBorderColor: =RGBA(0, 0, 0, 0)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        Image: ='logo consusalud 2021'
                        OnSelect: =Select(Parent)
                        PressedBorderColor: =RGBA(0, 0, 0, 0)
                        PressedFill: =RGBA(0, 0, 0, 0)
                        RadiusBottomLeft: =8
                        RadiusBottomRight: =8
                        RadiusTopLeft: =8
                        RadiusTopRight: =8
                        Width: =72
                        X: =16
                        Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                        ZIndex: =1

                    Title1 As label:
                        Color: =RGBA(50, 49, 48, 1)
                        DisabledColor: =RGBA(161, 159, 157, 1)
                        Font: =Font.'Segoe UI'
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =Self.Size * 1.8
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =12
                        PaddingRight: =0
                        PaddingTop: =0
                        Text: =ThisItem.Identificacion
                        VerticalAlign: =VerticalAlign.Top
                        Width: =Parent.TemplateWidth - 173
                        X: =103
                        Y: =(Parent.TemplateHeight - (Self.Size * 1.8 + Subtitle1.Size * 1.8)) / 2
                        ZIndex: =2

                    Subtitle1 As label:
                        Color: =RGBA(96, 94, 92, 1)
                        DisabledColor: =RGBA(161, 159, 157, 1)
                        Font: =Font.'Segoe UI'
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =Self.Size * 1.8
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =12
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =12
                        Text: =ThisItem.NombreTrabajador
                        VerticalAlign: =VerticalAlign.Top
                        Width: =Title1.Width
                        X: =Title1.X
                        Y: =Title1.Y + Title1.Height
                        ZIndex: =3

                    NextArrow1 As icon.ChevronRight:
                        AccessibleLabel: =Self.Tooltip
                        BorderColor: =RGBA(0, 0, 0, 0)
                        DisabledBorderColor: =RGBA(245, 245, 245, 1)
                        DisabledColor: =RGBA(225, 223, 221, 1)
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        FocusedBorderThickness: =4
                        Height: =50
                        HoverBorderColor: =RGBA(0, 0, 0, 0)
                        HoverColor: =RGBA(16, 110, 190, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        Icon: =Icon.ChevronRight
                        OnSelect: |+
                            =// En el botón de enviar
                            If(
                                Connection.Connected,
                                ForAll(
                                    coleccionOffline,
                                    Patch(
                                        'Base de datos formulario prueba', // Tu fuente de datos
                                        Defaults('Base de datos formulario prueba'), // Crear un nuevo registro
                                        {
                                            Fecha_1: ThisRecord.Fecha_1_DataCard1,  // Campo 1
                                            CIUDAD: ThisRecord.Ciudad,
                                            ÁREA: ThisRecord.Area,
                                            'CARGO O PUESTO DE TRABAJO': ThisRecord.CargoTrabajo,
                                            IDENTIFICACIÓN: ThisRecord.Identificacion,
                                            GÉNERO: ThisRecord.Genero,
                                            EDAD: ThisRecord.Edad,
                                            EMPRESA: ThisRecord.Empresa,
                                            SEDE: ThisRecord.Sede,
                                            TURNO: ThisRecord.Turno,
                                            'ANTIGUEDAD EN LA EMPRESA MESES': ThisRecord.AntiguedadEmpresaMeses,
                                            'ANTIGÜEDAD EN LA EMPRESA': ThisRecord.AntiguedadCargoMeses,
                                             'ANTIGUEDAD DEL CARGO MESES': ThisRecord.AntiguedadCargoMeses,
                                            'ANTIGÜEDAD EN EL CARGO': ThisRecord.AntiguedadCargoAños,
                                            'TIPO DE CARGO': ThisRecord.TipoDeCargp,
                                            'PREDOMINANCIA MANUAL': ThisRecord.PredominacionManual,
                                            'ESTATURA (cm)': ThisRecord.Estatura,
                                            'PESO (kg)': ThisRecord.Peso,
                                            '¿LA PERSONA FUMA?': ThisRecord.PersonaFuma,
                                            '¿CUANTOS CIGARRILLOS AL DIA?': ThisRecord.CigarrillosDia,
                                            '¿HACE CUANTO FUMA? (meses)': ThisRecord.TiempoFumando,
                                            '¿REALIZA ACTIVIDAD FISICA?': ThisRecord.RealizaActividadFisica,
                                            '¿CUAL ACTIVIDAD FISICA REALIZA?': ThisRecord.CualActividadFisica,
                                            '¿CON QUE FRECUENCIA REALIZA ACTIVIDAD FISICA? (días x semana)': ThisRecord.FrecuenciaActividadFisica,
                                            '¿PRESENTA DOLOR O MOLESTIA A NIVEL OSTEOMUSCULAR?': ThisRecord.MolestiaOsteomuscular,
                                            '¿PRESENTA ALGUNA ENFERMEDAD OSTEOMUSCULAR ACTUALMENTE?': ThisRecord.EnfeOsteo,
                                            'NOMBRE DE LA ENFERMEDAD OSTEOMUSCULAR': ThisRecord.NomEnfeOsteo,
                                            'Ojos F': ThisRecord.OjosF,
                                            'Ojos S': ThisRecord.OjosS,
                                            'Cuello F': ThisRecord.CuelloF,
                                            'Cuello S': ThisRecord.CuelloS,
                                            'Hombro izquierdo F': ThisRecord.HombroIzquierdoF, 
                                            'Hombro izquierdo S': ThisRecord.HombroIzquierdoS,
                                            'Hombro derecho F': ThisRecord.HombroDerechoF, 
                                            'Hombro derecho A': ThisRecord.HombroDerechoS, 
                                            'Brazo derecho F': ThisRecord.BrazoDerechoF, 
                                            'Brazo derecho S': ThisRecord.BrazoDerechoS, 
                                            'Brazo izquierdo S': ThisRecord.BrazoIzquierdoS, 
                                            'Brazo izquierdo F': ThisRecord.BrazoIzquierdoF, 
                                            'Antebrazo derecho F': ThisRecord.ABrazoDerechoF, 
                                            'Antebrazo derecho S': ThisRecord.ABrazoDerechoS, 
                                            'Antebrazo izquierdo F': ThisRecord.AntebrazoIzquierdoF, 
                                            'Antebrazo izquierdo S': ThisRecord.ABrazoIzquierdoS, 
                                            'Muñeca derecha F': ThisRecord.MuñecaDerechaF, 
                                            'Muñeca derecha S': ThisRecord.MuñecaDerechaS, 
                                            'Muñeca izquierda F': ThisRecord.MuñecaIzquierdaF, 
                                            'Muñeca izquierda S': ThisRecord.MuñecaIzquierdaS, 
                                            'Mano derecha F': ThisRecord.ManoDerechaF, 
                                            'Mano derecha S': ThisRecord.ManoDerechaS, 
                                            'Mano izquierda F': ThisRecord.ManoIzquierdaF, 
                                            'Mano izquierda S': ThisRecord.ManoIzquierdaS, 
                                            'Zona dorsal F': ThisRecord.ZonaDorsalF, 
                                            'Zona dorsal S': ThisRecord.ZonaDorsalS, 
                                            'Zona lumbar F': ThisRecord.ZonaLumbarF, 
                                            'Zona lumbar S': ThisRecord.ZonaLumbarS, 
                                            'Nalgas y/o caderas F': ThisRecord.NalgasCaderasF, 
                                            'Nalgas y/o caderas S': ThisRecord.NalgasCaderasS, 
                                            'Muslo derecho F': ThisRecord.MusloDerechoF, 
                                            'Muslo derecho S': ThisRecord.MusloDerechoS, 
                                            'Muslo izquierdo F': ThisRecord.MusloIzquierdoF, 
                                            'Muslo izquierdo S': ThisRecord.MusloIzquierdoS, 
                                            'Rodilla derecha F': ThisRecord.RodillaDerechaF, 
                                            'Rodilla derecha S': ThisRecord.RodillaDerechaF, 
                                            'Rodilla izquierda F': ThisRecord.RodillaIzquierdaF, 
                                            'Rodilla izquierda S': ThisRecord.RodillaIzquierdaS, 
                                            'Pierna derecha F': ThisRecord.PiernaDerechaF, 
                                            'Pierna derecha S': ThisRecord.PiernaDerechaS, 
                                            'Pierna izquierda F': ThisRecord.PiernaIzquierdaF, 
                                            'Pierna izquierda S': ThisRecord.PiernaIzquierdaS, 
                                            'Pie y/o tobillo derecho F': ThisRecord.PieTobDerechoF, 
                                            'Pie y/o tobillo derecho S': ThisRecord.PieTobDerechoS,
                                            'Pie y/o tobillo izquierdo F':ThisRecord.PiernaIzquierdaF,
                                            'Pie y/o tobillo izquierdo S':ThisRecord.PieTobilloIzquierdoS
                                        }
                                    )
                                )
                            );
                            Clear(coleccionOffline); // Limpia la colección local
                                SaveData(coleccionOffline, "LocalData"); // Guarda la colección vacía
                                Notify("Datos enviados correctamente", NotificationType.Success)
                            
                        PaddingBottom: =16
                        PaddingLeft: =16
                        PaddingRight: =16
                        PaddingTop: =16
                        PressedBorderColor: =RGBA(0, 0, 0, 0)
                        PressedColor: =RGBA(16, 110, 190, 1)
                        PressedFill: =RGBA(0, 0, 0, 0)
                        Tooltip: ="Ver los detalles del elemento"
                        Width: =50
                        X: =Parent.TemplateWidth - Self.Width - 12
                        Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                        ZIndex: =4

                    Separator1 As rectangle:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        Fill: =RGBA(255, 255, 255, 1)
                        Height: =8
                        OnSelect: =Select(Parent)
                        Width: =Parent.TemplateWidth
                        Y: =Parent.TemplateHeight - Self.Height
                        ZIndex: =5

                    Rectangle1 As rectangle:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        Fill: =RGBA(0, 120, 212, 1)
                        Height: =Parent.TemplateHeight - Separator1.Height
                        OnSelect: =Select(Parent)
                        Visible: =ThisItem.IsSelected
                        Width: =4
                        ZIndex: =6

